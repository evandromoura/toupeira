<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:tou="http://java.sun.com/jsf/composite/components">



<h:head>
  <title>TITULO TESTE</title>
</h:head>


<h:body>

	<h:messages showDetail="true" showSummary="true" />
	
	<h:form>

		NOME
	    <tou:texto value="#{pessoaController.pessoaTO.pessoa.nome}" />
	    
	    <br />
	    
	    ENDERECO
	    <h:inputText id="id-endereco"  value="#{pessoaController.pessoaTO.pessoa.endereco}" label="Endereco" required="true" />
	    
	    <br />
	    TELEFONE
	    <tou:numero value="#{pessoaController.pessoaTO.pessoa.telefone}" label="telefone"  />
	    
	    <br />
	    IDADE
	    <tou:numero value="#{pessoaController.pessoaTO.pessoa.idade}" />
	     <br />
	     CIDADE
	     <br />
	     <h:selectOneMenu  value="#{pessoaController.pessoaTO.pessoa.cidade.nome}" required="true" label="Cidade">
	     	<f:selectItem itemLabel="Selecione..." />
	     	<f:selectItems value="#{combosBean.cidades}" var="cidade" itemLabel="#{cidade.nome}/#{cidade.uf}" itemValue="#{cidade.nome}" />
	     </h:selectOneMenu>
	      <br />
	      ESTADO
	      <br />
	     <h:selectOneMenu value= "#{pessoaController.pessoaTO.pessoa.estado.nome}" required= "true" label = "Estado">
	     	<f:selectItem itemLabel = "Escolha"/>
	     	<f:selectItems value="#{combosBean.estados}" var="estado" itemLabel="#{estado.nome}" itemValue= "#{estado.nome}"/>
	     </h:selectOneMenu>
	     
	     <br />
	     <h:commandLink action="#{pessoaController.gravar()}"  value="GRAVAR"  />
    	 <br />
    	 <br />
    	 <br />
    	<ui:fragment rendered="#{not empty pessoaController.pessoaTO.pessoas}">
	    	<h:dataTable value="#{pessoaController.pessoaTO.pessoas}" var="pessoa">
	    		<h:column>
	    			<f:facet name="header">
	    				Nome
	    			</f:facet>
	    			#{pessoa.nome}
	    		</h:column>
	    		<h:column>
	    			<f:facet name="header">
	    				Idade
	    			</f:facet>
	    			#{pessoa.idade}
	    		</h:column>
	    		
	    		<h:column>
	    			<f:facet name="header">
	    				Telefone
	    			</f:facet>
	    			#{pessoa.telefone}
	    		</h:column>
	    		<h:column>
	    			<f:facet name="header">
	    				Endereco
	    			</f:facet>
	    			#{pessoa.endereco}
	    		</h:column>
	    		<h:column>
	    			<f:facet name="header">
	    				Cidade
	    			</f:facet>
	    			#{pessoa.cidade.nome}
	    		</h:column>
	    		<h:column>
	    			<f:facet name="header">
	    				Estado
	    			</f:facet>
	    			#{pessoa.estado.nome}
	    		</h:column>
	    		<h:column>
	    			<f:facet name="header">
	    				Acoes
	    			</f:facet>
	    			<h:commandLink action="#{pessoaController.excluir(pessoa)}" immediate="true">
	    				Excluir
	    			</h:commandLink>
	    			
	    		</h:column>
	    		
	    	</h:dataTable>
    	</ui:fragment>
    
    </h:form>
    
   
</h:body>


</html>
