<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:tou="http://java.sun.com/jsf/composite/components">



<h:head>
	<title>cidade dos leoes</title>
</h:head>


<h:body>

	<h:messages showDetail="true" showSummary="true" />

	<h:form>

		CIDADE (nome)
	    <tou:texto value="#{cidadeController.cidadeTO.cidade.nome}" />
		<br />
		<br />
		UF
		  <h:selectOneMenu value= "#{estadoController.estadoTO.estado.uf}" required= "true" label = "UF">
	     	<f:selectItem itemLabel = "Escolha"/>
	     	<f:selectItems value="#{combosBean.estados}" var="estado" itemLabel="#{estado.uf}" itemValue= "#{estado.uf}"/>
	     </h:selectOneMenu>
		<br />
		<h:commandLink action="#{cidadeController.gravar()}" value="GRAVAR" />

		<br />
		<br />
		<br />
		<ui:fragment rendered="#{not empty cidadeController.cidadeTO.cidades}">
			<h:dataTable value="#{cidadeController.cidadeTO.cidades}"
				var="cidade">
				<h:column>
					<f:facet name="header">
	    				Cidade
	    			</f:facet>
	    			#{cidade.nome}
	    		</h:column>
				<h:column>
					<f:facet name="header">
						UF
					</f:facet>
					#{estadoController.estadoTO.estado.uf}
				</h:column>

				<h:column>
					<f:facet name="header">
	    				Acoes
	    			</f:facet>
					<h:commandLink action="#{cidadeController.excluir(cidade)}"
						immediate="true">
	    				Excluir
	    			</h:commandLink>

				</h:column>

			</h:dataTable>
		</ui:fragment>

	</h:form>

</h:body>


</html>
